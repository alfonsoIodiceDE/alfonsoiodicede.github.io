---
title: "A basic analysis"
format: html
code-fold: true
code-tools: true
embed-resources: true
page-layout: full
toc: true
toc-title: toc
toc-location: left
toc-expand: 2
theme: minty
knitr:
  opts_chunk: 
    collapse: true
    message: false
    R.options:
    warning: false
    code-fold: false
    echo: true
---


```{r}
library(tidymodels)
library(janitor)

```


```{r}
toy_data = read_csv("toy_data_phd.csv") |> select(-1) |> clean_names()
```


```{r}
toy_data |> slice_head(n=10)

```
### pre-processing

here's what's to be done

there are issues with the imported data, because of the way the data was saved.

- the day of birth is not in the correct format: it is a character because one entry was `26/2` intead of just 26.


- the year of birth is not in the correct format: it is a character because one entry was `march`.

- Country of origin: one entry is Cassino, and one is Turkey in capital letters.

- previous degree column: some levels shoul be merged (the ones that contain `engineering`)

- Phd program name: needs recoding

- footsize, some indicated the size as 1 foot, that is 12 inches, that in  EU format is 45. 



```{r}
toy_data |> mutate(
  day_of_birth = str_replace(day_of_birth, "26/2", "26") |> parse_number(),
  year_of_birth = str_replace(year_of_birth, "March",replacement = " ")|> parse_number(),
  country_of_origin = str_to_title(str_replace(country_of_origin, "Cassino", "Italy")),
  height= str_replace(height, "cm", "") |>str_remove(",") |>  parse_number(),
  foot_size = str_replace(foot_size, "1 foot", "45")  |> parse_number(),
  foot_size = ifelse(foot_size>100, foot_size/10,foot_size)
  )
```
```

